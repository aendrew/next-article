$o-icons-image-service-base-url: 'https://www.ft.com/__origami/service/image';
@import 'o-share/main';
@import 'n-email-article/main';

// todo: this module is pretty grim and needs refactoring or deleting in favour of sticky header
@include nUiCriticalStart();

	@include oShareBase(o-share);

	.article__share {
		position: relative;
		margin-top: 15px;
		padding: 5px 0;
		border-top: 1px solid getColor('warm-3');
		border-bottom: 1px solid getColor('warm-3');
		clear: left;

		> * {
			visibility: hidden;
		}

		&__count {
			@include oTypographySansSize(s);
			overflow: hidden;
			position: relative;
			top: -5px;
			display: none;
			@include oGridRespondTo(S) {
				display: inline;
			}
		}

		&__comments {
			@include oTypographySansSize(s);
			line-height: 24px;
			position: relative;
			border-bottom-width: 0;
			margin-right: 16px;
			padding-left: 22px;
		}

		&__print {
			display: none;
			position: relative;
			width: 17px;
			height: 24px;
			border-bottom-width: 0;
			float: left;
			margin-right: 16px;
			@include oGridRespondTo(M) {
				display: block;
			}
		}

		&--bottom {
			clear: left;
		}

		.comment_plus_save {
			float: right;
		}

		.o-share {
			display: block; // prevent inline-block spacing issue
		}

		.o-share__action {
			position: relative;
			margin: 0;
		}

		.o-share__action a {
			border-bottom-width: 0;
		}

		.o-share__action button {
			display: block;
			border: 0;
			background-color: transparent;
		}

		.o-share__action a,
		.o-share__action button {
			padding: 0 6px;
		}

		.o-share__action--twitter a {
			padding-left: 0;
		}

		.o-share__action--whatsapp {
			@include oGridColspan((S: hide));
			padding: 0;
		}

		.article__save {
			float: right;
		}

		.n-myft-ui__button {
			min-height: 24px;
			padding-top: 4px;
			padding-bottom: 4px;
		}

	}

	.article__main .email-article .email-article__border {
		border-top: 0;
	}

	.core .article__main .article__share-action--email {
		display: none;
	}

	.article__main .article__share-bottom-gutter--top {
		margin-bottom: 15px;
	}

	.article__main .article__share-bottom-gutter--bottom {
		margin-bottom: 20px;
	}

@include nUiCriticalEnd();



// Lazy load all the icons
.article__share {
	$icon-size: 34;
	$icon-padding: ($icon-size / 100) * 25;

	> * {
		visibility: visible;
	}

	&__comments,
	&__print {
		&:before {
			@include oIconsGetIcon('speech', getColorFor('link', 'text'), $icon-size, $iconset-version: 1);
			content: '';
			position: absolute;
			left: -#{$icon-padding}px;
		}
	}

	&__comments {
		&::before {
			top: -8.25px;
		}
	}

	&__print {
		&:before {
			top: -#{$icon-padding / 2}px;
			@include oIconsGetIcon('print', getColor('cold-1'), $icon-size, $apply-base-styles: false, $apply-width-height: false, $iconset-version: 1);
		}
	}
}

@include oShareActionIcon(facebook, o-share);
@include oShareActionIcon(twitter, o-share);
@include oShareActionIcon(whatsapp, o-share);
@include oShareActionIcon(linkedin, o-share);
@include oShareActionIcon(email, o-share);
